<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link href="docstyle.css" type="text/css" rel="stylesheet">
<title>Gratia - Replication howto</title>
</head>

<body>
<h1 align="center">Replication How To</h1>
<p>Gratia has the ability to replicate its database contents (actually, the JobUsageRecords) 
to another instance of gratia running "out there somewhere". 
This service can be found on the gratia-administration dashboard. 
Assuming your database is the source, and our database at Fermi is the target:</p>
<ul>
  <li>You must first determine whether or not the target is running secured by contacting our gratia system administrator.</li>
  <li>You add an entry to our "open" connection  e.g.  http://fermilab:8080</li>
  <li>You select which probes you want to replicate to our system.</li>
  <li>Press the &ldquo;update&rdquo; button to add the entry to your local database.</li>
  <li>
  If we at Fermi are running "secured", you must <br>
  (1) set the security flag to "secured" and update, <br>
  (2) using the "registed" entry, register your server with us.</li>
  <li>You can test the connection by using the "Test" link. 
  Your server will send a dummy transaction to our machine at Fermi and let you know 
  whether or not the connection was made. If it reports and error, you should contact 
  the target gratia administrator for support.</li>
  <li>Finally, start the replication process by using the "Start" link. 
  Replication should start within a minute or so. You can stop the process with the "Stop" link 
  (which will also take a minute or so).</li>
  </ul>
<p>From our testing gratia can replicate roughly 2000 records per minute for each active replication entry.</p>
</body>
</html>
